(this.webpackJsonpyoung=this.webpackJsonpyoung||[]).push([[0],{157:function(e,t,a){e.exports={body:"Login_body__3ED08",login:"Login_login__29f7P"}},160:function(e,t,a){e.exports={layout:"Header_layout__LeZNa",avator:"Header_avator__nvnhF"}},242:function(e,t,a){e.exports=a(436)},247:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(20),s=a.n(c),l=(a(247),a(248),a(32)),u=a(94),i=a(25),m=a(31),p=a.n(m),d=a(44),f=Object(r.createContext)({authTokens:"",setAuthTokens:function(e){return e}}),b=function(){return Object(r.useContext)(f)},g=a(440),E=a(441),h=a(442),y=a(101),v=a(46),k=a(157),w=a.n(k),O=a(199),j=a.n(O),x=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{token:"234234234"});case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),S={type:"email",message:"please input correct email"},I={labelCol:{span:5}},C=function(e){var t=g.a.useForm(),a=Object(l.a)(t,1)[0],n=Object(r.useState)(!1),c=Object(l.a)(n,2),s=c[0],u=c[1],m=b().setAuthTokens,f=((e.location||{}).state||{}).referer||"/";a.setFieldsValue({email:localStorage.getItem("email"),password:localStorage.getItem("password")});var k=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.remember?(localStorage.setItem("email",t.email),localStorage.setItem("password",t.password)):(localStorage.setItem("email",""),localStorage.setItem("password","")),e.next=3,x(t.email,t.password,t.remember);case 3:a=e.sent,n=a.token,m({token:n}),u(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?o.a.createElement(i.a,{to:f.pathname||"/"}):o.a.createElement("div",{className:w.a.body},o.a.createElement(j.a,{config:{count:50},style:{zIndex:0}}),o.a.createElement(E.a,{title:"Login",bordered:!1,className:w.a.login},o.a.createElement(g.a,Object.assign({},I,{form:a,name:"basic",initialValues:{remember:!0},onFinish:function(e){return k({email:e.email,password:e.password,remember:e.remember})}}),o.a.createElement(g.a.Item,{label:"E-mail",name:"email",rules:[S,{required:!0,message:"Please input your email!"}]},o.a.createElement(h.a,null)),o.a.createElement(g.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},o.a.createElement(h.a.Password,null)),o.a.createElement(g.a.Item,{name:"remember",valuePropName:"checked"},o.a.createElement(y.a,null,"Remember me")),o.a.createElement(g.a.Item,null,o.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))))},_=a(237),T=a(437),L=a(70),P=a(438),N=a(445),F=a(160),G=a.n(F),z={labelCol:{span:8},wrapperCol:{span:16}},A=function(e){var t=e.style,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=(n[0],n[1]);return o.a.createElement(g.a,Object.assign({style:t},z,{name:"basic",initialValues:{remember:!0}}),o.a.createElement(g.a.Item,{label:"",name:"keyword"},o.a.createElement(h.a,{placeholder:"please input something~",onPressEnter:function(e){c(e.currentTarget.value)}})))},J=T.a.Header,q=T.a.Content,H=T.a.Footer;!function(e){e["\u6b4c\u5355"]="songs-list",e["\u6700\u65b0\u97f3\u4e50"]="latest-list"}(n||(n={}));var M=function(e){return o.a.createElement(T.a,{className:G.a.layout},o.a.createElement(J,null,o.a.createElement("div",{className:G.a.avator}),o.a.createElement(L.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[n.\u6700\u65b0\u97f3\u4e50]},o.a.createElement(L.a.Item,{key:n.\u6700\u65b0\u97f3\u4e50},"\u6700\u65b0\u97f3\u4e50"),o.a.createElement(L.a.Item,{key:n.\u6b4c\u5355},"\u6b4c\u5355")),o.a.createElement(A,{style:{flexGrow:.6,marginLeft:"50px",marginTop:"15px"}}),o.a.createElement(P.a,{style:{backgroundColor:"#87d068",marginTop:"15px"},icon:o.a.createElement(N.a,null)})),o.a.createElement(q,{style:{padding:"24px 50px",background:"#fff"}},o.a.createElement("div",{className:"site-layout-content"},e.children)),o.a.createElement(H,{style:{textAlign:"center"}},"Young Mannix \xa92020 Created by Mannix Lei"))},U=function(e){var t=e.Component,a=Object(_.a)(e,["Component"]),n=b().authTokens;return o.a.createElement(i.d,null,o.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(M,null,o.a.createElement(t,e)):o.a.createElement(i.a,{to:{pathname:"/login",state:{referer:e.location}}})}})))},V=a(213),B=a.n(V),R=a(443),W=B.a.create({baseURL:"/api",withCredentials:!1});W.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),W.interceptors.response.use((function(e){return 200===e.status?e.data.data:(R.a.error({message:e.statusText}),Promise.reject(e.data))}),(function(e){return Promise.reject(e)}));var D=W,K=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get("/search",{params:{provider:t,keyword:a,page:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get("/song_source/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=a(439),$=a(444),Q=a(446),X=a(447),ee=a(218),te=a.n(ee),ae=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(0),s=Object(l.a)(c,2),u=s[0],i=s[1],m=Object(r.useState)(""),f=Object(l.a)(m,2),b=(f[0],f[1],Object(r.useState)("")),g=Object(l.a)(b,2),E=(g[0],g[1],Object(r.useState)("")),h=Object(l.a)(E,2),y=h[0],v=h[1],k=Object(r.useState)(!1),w=Object(l.a)(k,2),O=w[0],j=(w[1],function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,r,o,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,e.next=3,K("netease","sia",t);case 3:a=e.sent,r=a.songs,o=a.totalCount,n(r),i(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(r.useEffect)((function(){j()}),[]);var x=function(e){return[{title:"song-name",dataIndex:"name",key:"name",render:function(e,t){return o.a.createElement("a",{href:t.link,target:"_blank"},e)}},{title:"singer-name",dataIndex:"artists",key:"artists",render:function(e,t){return t.artists.map((function(e){var a=t.artists.length>5?"geekblue":"green";return o.a.createElement($.a,{color:a,key:e.name},o.a.createElement("a",{href:e.link,target:"_blank"},e.name))}))}},{title:"album",dataIndex:"album",key:"album",render:function(e,t){return o.a.createElement($.a,{key:t.album.name},o.a.createElement("a",{href:t.album.link,target:"_blank"},t.album.name))}},{title:"copyright",dataIndex:"copyright",key:"copyright",render:function(e){return e?"yes":"no"}},{title:"operation",dataIndex:"operation",key:"operation",render:function(t,a){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"20px"}},o.a.createElement(Q.a,{onClick:function(){return e(a.platform,a.originalId)}}),o.a.createElement(X.a,null))}}]}(function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,a);case 2:n=e.sent,v(n.songSource);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return o.a.createElement("div",null,o.a.createElement(Z.a,{columns:x,dataSource:a,pagination:{total:u,onChange:function(e){j(e)},showSizeChanger:!1}}),o.a.createElement(te.a,{src:y,autoPlay:!0,controls:!0,muted:O}))},ne=function(){return o.a.createElement("div",null,o.a.createElement(u.b,{to:"/list"},"songs list"))},re=function(){return o.a.createElement("div",null,"sign up")},oe=function(){var e=JSON.parse(localStorage.getItem("tokens")),t=Object(r.useState)(e),a=Object(l.a)(t,2),n=a[0],c=a[1];return o.a.createElement(f.Provider,{value:{authTokens:n,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),c(e)}}},o.a.createElement(u.a,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/login",component:C}),o.a.createElement(i.b,{exact:!0,path:"/signUp",component:re}),o.a.createElement(U,{path:"/",Component:ne})),o.a.createElement(U,{path:"/list",Component:ae})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=a(68),se=a(235),le=a(163);var ue={songsList:[],loading:!1},ie={username:"mannix lei",email:"mannix@gmail.com",password:"888888"},me=Object(ce.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user/LOGIN":return{username:"",email:t.payload.email,password:t.payload.password};case"user/LOGOUT":return{username:"",email:"",password:""};default:return e}},song:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"songs/GET_SONGS_LIST":return Object(le.a)(Object(le.a)({},e),{},{songsList:Object(se.a)(e.songsList)});default:return e}}}),pe=a(230),de=a(231),fe=Object(ce.d)(me,Object(ce.a)(pe.a));s.a.render(o.a.createElement(de.a,{store:fe},o.a.createElement(o.a.StrictMode,null,o.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[242,1,2]]]);
//# sourceMappingURL=main.ae4e8228.chunk.js.map