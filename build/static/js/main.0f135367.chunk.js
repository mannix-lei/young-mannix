(this.webpackJsonpyoung=this.webpackJsonpyoung||[]).push([[0],{145:function(e,t,a){e.exports={body:"Home_body__3JG4K",card:"Home_card__2hkvf"}},177:function(e,t,a){e.exports={body:"Login_body__3ED08",login:"Login_login__29f7P"}},236:function(e,t,a){e.exports={formBody:"songs-form_formBody__2thJl"}},248:function(e,t,a){e.exports=a.p+"static/media/WechatIMG1.65751f47.jpeg"},249:function(e,t,a){e.exports=a.p+"static/media/WechatIMG2.45083ac7.jpeg"},261:function(e,t,a){e.exports=a(486)},266:function(e,t,a){},486:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(20),s=a.n(c),i=(a(266),a(267),a(25)),l=a(91),u=a(27),m=a(13),d=a.n(m),p=a(28),f=Object(r.createContext)({authTokens:"",setAuthTokens:function(e){return e}}),g=function(){return Object(r.useContext)(f)},b=a(492),h=a(491),v=a(494),y=a(110),E=a(51),j=a(177),O=a.n(j),k=a(223),w=a.n(k),S=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n),e.abrupt("return",{token:"234234234"});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),x={type:"email",message:"please input correct email"},_={labelCol:{span:5}},N=function(e){var t=b.a.useForm(),a=Object(i.a)(t,1)[0],n=Object(r.useState)(!1),c=Object(i.a)(n,2),s=c[0],l=c[1],m=g().setAuthTokens,f=((e.location||{}).state||{}).referer||"/";a.setFieldsValue({email:localStorage.getItem("email"),password:localStorage.getItem("password")});var j=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.remember?(localStorage.setItem("email",t.email),localStorage.setItem("password",t.password)):(localStorage.setItem("email",""),localStorage.setItem("password","")),e.next=3,S(t.email,t.password,t.remember);case 3:a=e.sent,n=a.token,m({token:n}),l(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?o.a.createElement(u.a,{to:f.pathname||"/"}):o.a.createElement("div",{className:O.a.body},o.a.createElement(w.a,{config:{count:50},style:{zIndex:0}}),o.a.createElement(h.a,{title:"Login",bordered:!1,className:O.a.login},o.a.createElement(b.a,Object.assign({},_,{form:a,name:"basic",initialValues:{remember:!0},onFinish:function(e){return j({email:e.email,password:e.password,remember:e.remember})}}),o.a.createElement(b.a.Item,{label:"E-mail",name:"email",rules:[x,{required:!0,message:"Please input your email!"}]},o.a.createElement(v.a,null)),o.a.createElement(b.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},o.a.createElement(v.a.Password,null)),o.a.createElement(b.a.Item,{name:"remember",valuePropName:"checked"},o.a.createElement(y.a,null,"Remember me")),o.a.createElement(b.a.Item,null,o.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")))))},I=a(256),C=a(488),L=a(489),A=a(497),P=a(96),H=a.n(P),U=a(487),T=a(109),G=a(38),D=a(133),F=a(35),q={songsList:[],total:0,loading:!0};!function(e){e[e.GetSongList=0]="GetSongList",e[e.GetHotSong=1]="GetHotSong"}(n||(n={}));var W=a(235),J=a.n(W),R=a(495),B=J.a.create({baseURL:"/api",withCredentials:!1});B.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),B.interceptors.response.use((function(e){return 200===e.status?e.data.data:(R.a.error({message:e.statusText}),Promise.reject(e.data))}),(function(e){return Promise.reject(e)}));var M,V=B,z=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.get("/search",{params:Object(F.a)({},t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.get("/song_source/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.get("/hot_list/netease");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function e(t){var a=this;Object(D.a)(this,e),this.dispatch=void 0,this.getHotSong=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K().then((function(e){a.dispatch({type:n.GetHotSong,payload:{songsList:e.songs,total:e.totalCount||e.songs.length,loading:!1}})}));case 2:case"end":return e.stop()}}),e)}))),this.getSongList=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t).then((function(e){a.dispatch({type:n.GetSongList,payload:{songsList:e.songs,total:e.totalCount||e.songs.length,loading:!1}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.dispatch=t},Z=a(236),$=a.n(Z),X={labelCol:{span:8},wrapperCol:{span:16}},ee=function(e){var t=Object(u.g)(),a=new URLSearchParams(t.location.search),n=Object(G.b)(),c=new Y(n),s=b.a.useForm(),l=Object(i.a)(s,1)[0],m=Object(r.useState)(a.get("provider")||"netease"),f=Object(i.a)(m,2),g=f[0],h=f[1],y=Object(r.useState)(a.get("keyword")),E=Object(i.a)(y,2);E[0],E[1];l.setFieldsValue({keyword:a.get("keyword")});var j=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.currentTarget.value){e.next=3;break}return U.a.info("please input something ~~"),e.abrupt("return");case 3:t.replace("/list?provider=".concat(g,"&keyword=").concat(a.currentTarget.value,"&page=1")),c.getSongList({provider:g,keyword:a.currentTarget.value,page:1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=o.a.createElement(T.a,{defaultValue:g||"netease",className:"select-after",onChange:function(e){return function(e){h(e)}(e)}},o.a.createElement(T.a.Option,{value:"netease"},"\u7f51\u6613\u4e91"),o.a.createElement(T.a.Option,{value:"qq"},"QQ"),o.a.createElement(T.a.Option,{value:"xiami"},"\u867e\u7c73"),o.a.createElement(T.a.Option,{value:"kuwo"},"\u9177\u6211"));return o.a.createElement(b.a,Object.assign({className:$.a.formBody,style:e.style},X,{name:"basic",form:l,initialValues:{remember:!0}}),o.a.createElement(b.a.Item,{label:"",name:"keyword"},o.a.createElement(v.a,{addonAfter:O,placeholder:"please input something~",onPressEnter:function(e){return j(e)}})))},te=C.a.Header,ae=C.a.Content,ne=C.a.Footer;!function(e){e["\u6b4c\u5355"]="songs-list",e["\u6700\u65b0\u97f3\u4e50"]="latest-list"}(M||(M={}));var re,oe=function(e){return o.a.createElement(C.a,{className:H.a.layout},o.a.createElement(te,null,o.a.createElement("div",{className:H.a.search},o.a.createElement("div",{className:H.a.avator,onClick:function(){return window.location.href="/"}}),o.a.createElement(ee,null)),o.a.createElement(L.a,{className:H.a.loginAvatar,icon:o.a.createElement(A.a,null)})),o.a.createElement(ae,{className:H.a.content},o.a.createElement("div",{className:"site-layout-content"},e.children)),o.a.createElement(ne,{style:{textAlign:"center"}},"Young Mannix \xa92020 Created by Mannix Lei"))},ce=function(e){var t=e.Component,a=Object(I.a)(e,["Component"]),n=g().authTokens;return o.a.createElement(u.d,null,o.a.createElement(u.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(oe,null,o.a.createElement(t,e)):o.a.createElement(u.a,{to:{pathname:"/login",state:{referer:e.location}}})}})))},se=a(493),ie=a(490),le=a(496),ue=a(498),me=a(499),de=a(50),pe=a.n(de),fe=function(e,t,a){return e>600?[{title:"song-name",dataIndex:"name",key:"name",width:"17rem",render:function(e,t){return o.a.createElement("a",{href:t.link,target:"_blank"},e)}},{title:"singer-name",dataIndex:"artists",key:"artists",className:"".concat(pe.a.hide),render:function(e,t){return t.artists.map((function(e){var a=t.artists.length>5?"geekblue":"green";return o.a.createElement(le.a,{color:a,key:e.name},o.a.createElement("a",{href:e.link,target:"_blank"},e.name))}))}},{title:"album",dataIndex:"album",key:"album",className:"".concat(pe.a.hide),render:function(e,t){return o.a.createElement(le.a,{key:t.album.name},o.a.createElement("a",{href:t.album.link,target:"_blank"},t.album.name))}},{title:"platform",dataIndex:"platform",key:"platform",className:"".concat(pe.a.hide)},{title:"operation",dataIndex:"operation",key:"operation",align:"center",render:function(e,n){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"20px"}},o.a.createElement(ue.a,{onClick:function(){return t(n.platform,n.originalId)}}),o.a.createElement(me.a,{onClick:function(){return a(n.platform,n.originalId,n.name)}}))}}]:[{title:"song-name",dataIndex:"name",key:"name",width:"17rem",render:function(e,t){return o.a.createElement("div",null,o.a.createElement("a",{href:t.link,target:"_blank"},e),o.a.createElement("br",null),t.artists.map((function(e){var a=t.artists.length>5?"geekblue":"green";return o.a.createElement(le.a,{color:a,key:e.name},o.a.createElement("a",{href:e.link,target:"_blank"},e.name))})))}},{title:"operation",dataIndex:"operation",key:"operation",align:"center",render:function(e,n){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"20px"}},o.a.createElement(ue.a,{onClick:function(){return t(n.platform,n.originalId)}}),o.a.createElement(me.a,{onClick:function(){return a(n.platform,n.originalId,n.name)}}))}}]},ge=a(137),be=a.n(ge),he=function(e){var t=new URLSearchParams(e.location.search),a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)(!1),u=Object(i.a)(l,2),m=u[0],f=(u[1],Object(G.b)()),g=new Y(f),b=Object(r.useState)(t.get("provider")||"netease"),h=Object(i.a)(b,2),v=h[0],y=(h[1],Object(r.useState)(t.get("keyword")||"ferrari")),j=Object(i.a)(y,2),O=j[0],k=(j[1],Object(r.useState)(Number(t.get("page"))||1)),w=Object(i.a)(k,2),S=w[0],x=w[1],_=Object(r.useState)(0),N=Object(i.a)(_,2),I=N[0],C=N[1],L=Object(r.useState)(1080),A=Object(i.a)(L,2),P=A[0],H=A[1],T=Object(r.useState)([]),D=Object(i.a)(T,2),F=(D[0],D[1]),q=o.a.createRef(),W=Object(r.useState)(!1),J=Object(i.a)(W,2),R=J[0],B=J[1],M=Object(G.c)((function(e){return e.song})),V=M.songsList,z=M.total,K=M.loading;Object(r.useEffect)((function(){Z(),$(v,O,S)}),[]);var Z=function(){var e,t=null===(e=document.querySelector("body"))||void 0===e?void 0:e.offsetWidth;H(t)},$=function(e,t,a){g.getSongList({provider:e,keyword:t,page:a})},X=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Q(t,a).then((function(e){s(e.songSource)})).catch((function(){U.a.error("\u83b7\u53d6\u64ad\u653e\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=fe(P,X,function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,a).then((function(e){var t=document.createElement("a");t.setAttribute("href",e.songSource),t.setAttribute("target","_blank"),t.setAttribute("download",n),t.click()})).catch((function(){U.a.error("\u83b7\u53d6\u64ad\u653e\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),te=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!0),F(V),X(v,V[I].originalId);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(se.a,{active:!0,loading:K},o.a.createElement(E.a,{type:"link",onClick:function(){return te()}},"\u64ad\u653e\u5168\u90e8"),o.a.createElement(ie.a,{columns:ee,dataSource:V,pagination:{total:z,onChange:function(e){x(e),$(v,O,e)},showSizeChanger:!1}})),o.a.createElement("div",{className:pe.a.player},o.a.createElement(be.a,{ref:q,className:pe.a.audio,src:c,autoPlay:R,controls:!0,onEnded:function(e){I<V.length-1?(C(I+1),X(v,V[I+1].originalId)):B(!1)},muted:m})))},ve=a(182),ye=a.n(ve),Ee=a(248),je=a.n(Ee),Oe=a(249),ke=a.n(Oe),we=a(145),Se=a.n(we),xe=function(){return o.a.createElement("div",{className:Se.a.body},o.a.createElement(h.a,{hoverable:!0,className:Se.a.card,cover:o.a.createElement("img",{alt:"hotImg",src:je.a})},o.a.createElement(ye.a,{title:o.a.createElement(l.b,{to:"/list"},"songs list"),description:"Popular playlist"})),o.a.createElement(h.a,{hoverable:!0,className:Se.a.card,cover:o.a.createElement("img",{alt:"listImg",src:ke.a})},o.a.createElement(ye.a,{title:o.a.createElement(l.b,{to:"/hot"},"hot songs"),description:"Popular playlist"})))},_e=function(){return o.a.createElement("div",null,"sign up")},Ne=function(e){var t=Object(r.useState)(""),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),l=Object(i.a)(s,2),u=l[0],m=(l[1],Object(G.b)()),f=new Y(m),g=Object(r.useState)(1080),b=Object(i.a)(g,2),h=b[0],v=b[1],y=Object(r.useState)(!1),j=Object(i.a)(y,2),O=j[0],k=j[1],w=new URLSearchParams(e.location.search),S=Object(r.useState)(w.get("provider")||"netease"),x=Object(i.a)(S,2),_=x[0],N=(x[1],Object(r.useState)(w.get("keyword")||"ferrari")),I=Object(i.a)(N,2),C=(I[0],I[1],Object(r.useState)(Number(w.get("page"))||1)),L=Object(i.a)(C,2),A=(L[0],L[1],Object(r.useState)(0)),P=Object(i.a)(A,2),H=P[0],T=P[1],D=Object(G.c)((function(e){return e.song})),F=D.songsList,q=D.loading;Object(r.useEffect)((function(){R(),f.getHotSong()}),[]);var W=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,a);case 2:n=e.sent,c(n.songSource);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,a).then((function(e){var t=document.createElement("a");t.setAttribute("href",e.songSource),t.setAttribute("target","_blank"),t.setAttribute("download",n),t.click()})).catch((function(){U.a.error("\u83b7\u53d6\u64ad\u653e\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),R=function(){var e,t=null===(e=document.querySelector("body"))||void 0===e?void 0:e.offsetWidth;v(t)},B=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),W(_,F[H].originalId);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=fe(h,W,J);return o.a.createElement("div",null,o.a.createElement(se.a,{active:!0,loading:q},o.a.createElement(E.a,{type:"link",onClick:function(){return B()}},"\u64ad\u653e\u5168\u90e8"),o.a.createElement(ie.a,{columns:M,dataSource:F,pagination:!1})),o.a.createElement("div",{className:pe.a.player},o.a.createElement(be.a,{src:n,autoPlay:O,className:pe.a.audio,controls:!0,onEnded:function(e){H<F.length-1?(T(H+1),W(_,F[H+1].originalId)):k(!1)},muted:u,children:o.a.createElement(E.a,{type:"link"},"download")})))};!function(e){e[e.UpdateName=0]="UpdateName",e[e.UpdateAddress=1]="UpdateAddress",e[e.DeleteName=2]="DeleteName",e[e.DeleteAddress=3]="DeleteAddress"}(re||(re={}));var Ie={name:"",address:""},Ce=function e(t){var a=this;Object(D.a)(this,e),this.dispatch=void 0,this.updateName=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:re.UpdateName,payload:{name:t}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateAddress=function(e){return a.dispatch({type:re.UpdateAddress,payload:{address:e}})},this.deleteName=function(){return a.dispatch({type:re.DeleteName,payload:{}})},this.deleteAddress=function(){return a.dispatch({type:re.DeleteAddress,payload:{}})},this.dispatch=t},Le=function(){var e=Object(G.c)((function(e){return{name:e.name,address:e.address}})),t=e.name,a=e.address,n=Object(G.b)(),r=new Ce(n);return o.a.createElement("div",null,"this is test page;",o.a.createElement(v.a,{placeholder:"name",value:t,onChange:function(e){r.updateName(e.target.value)}}),o.a.createElement(v.a,{placeholder:"address",value:a,onChange:function(e){r.updateAddress(e.target.value)}}))},Ae=function(){var e=JSON.parse(localStorage.getItem("tokens")),t=Object(r.useState)(e),a=Object(i.a)(t,2),n=a[0],c=a[1];return o.a.createElement(f.Provider,{value:{authTokens:n,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),c(e)}}},o.a.createElement(l.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/login",component:N}),o.a.createElement(u.b,{exact:!0,path:"/signUp",component:_e}),o.a.createElement(ce,{path:"/",Component:xe})),o.a.createElement(ce,{path:"/list",Component:he}),o.a.createElement(ce,{path:"/hot",Component:Ne}),o.a.createElement(ce,{path:"/test",Component:Le})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=a(72),He=a(250),Ue=a.n(He),Te={song:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.GetSongList:return{songsList:t.payload.songsList,total:t.payload.total,loading:t.payload.loading};case n.GetHotSong:return Object(F.a)(Object(F.a)({},e),{},{songsList:t.payload.songsList,total:t.payload.total,loading:t.payload.loading});default:return e}},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.UpdateName:return Object(F.a)(Object(F.a)({},e),{},{name:t.payload.name||""});case re.UpdateAddress:return Object(F.a)(Object(F.a)({},e),{},{address:t.payload.address||""});case re.DeleteName:return Object(F.a)(Object(F.a)({},e),{},{name:""});case re.DeleteAddress:return Object(F.a)(Object(F.a)({},e),{},{address:""});default:return e}}},Ge=Object(Pe.c)(Te),De=a(251),Fe=Object(Pe.d)(Ge,Object(Pe.a)(De.a,Ue.a));s.a.render(o.a.createElement(G.a,{store:Fe},o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={player:"songs-list_player__1rro3",audio:"songs-list_audio__2I1Ip",hide:"songs-list_hide__2mp_v"}},96:function(e,t,a){e.exports={layout:"Header_layout__LeZNa",avator:"Header_avator__nvnhF",search:"Header_search___htFL",content:"Header_content__3UTcU",loginAvatar:"Header_loginAvatar__WQ4eH"}}},[[261,1,2]]]);
//# sourceMappingURL=main.0f135367.chunk.js.map