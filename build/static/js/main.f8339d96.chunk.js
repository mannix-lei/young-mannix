(this.webpackJsonpyoung=this.webpackJsonpyoung||[]).push([[0],{144:function(e,t,a){e.exports={body:"Home_body__3JG4K",card:"Home_card__2hkvf"}},176:function(e,t,a){e.exports={body:"Login_body__3ED08",login:"Login_login__29f7P"}},246:function(e,t,a){e.exports=a.p+"static/media/WechatIMG1.65751f47.jpeg"},247:function(e,t,a){e.exports=a.p+"static/media/WechatIMG2.45083ac7.jpeg"},259:function(e,t,a){e.exports=a(484)},264:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(20),s=a.n(c),i=(a(264),a(265),a(28)),l=a(91),u=a(26),m=a(16),d=a.n(m),p=a(27),f=Object(r.createContext)({authTokens:"",setAuthTokens:function(e){return e}}),g=function(){return Object(r.useContext)(f)},h=a(490),b=a(489),v=a(492),y=a(109),E=a(50),j=a(176),O=a.n(j),w=a(222),k=a.n(w),x=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n),e.abrupt("return",{token:"234234234"});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),S={type:"email",message:"please input correct email"},_={labelCol:{span:5}},I=function(e){var t=h.a.useForm(),a=Object(i.a)(t,1)[0],n=Object(r.useState)(!1),c=Object(i.a)(n,2),s=c[0],l=c[1],m=g().setAuthTokens,f=((e.location||{}).state||{}).referer||"/";a.setFieldsValue({email:localStorage.getItem("email"),password:localStorage.getItem("password")});var j=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.remember?(localStorage.setItem("email",t.email),localStorage.setItem("password",t.password)):(localStorage.setItem("email",""),localStorage.setItem("password","")),e.next=3,x(t.email,t.password,t.remember);case 3:a=e.sent,n=a.token,m({token:n}),l(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?o.a.createElement(u.a,{to:f.pathname||"/"}):o.a.createElement("div",{className:O.a.body},o.a.createElement(k.a,{config:{count:50},style:{zIndex:0}}),o.a.createElement(b.a,{title:"Login",bordered:!1,className:O.a.login},o.a.createElement(h.a,Object.assign({},_,{form:a,name:"basic",initialValues:{remember:!0},onFinish:function(e){return j({email:e.email,password:e.password,remember:e.remember})}}),o.a.createElement(h.a.Item,{label:"E-mail",name:"email",rules:[S,{required:!0,message:"Please input your email!"}]},o.a.createElement(v.a,null)),o.a.createElement(h.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},o.a.createElement(v.a.Password,null)),o.a.createElement(h.a.Item,{name:"remember",valuePropName:"checked"},o.a.createElement(y.a,null,"Remember me")),o.a.createElement(h.a.Item,null,o.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")))))},N=a(254),C=a(486),L=a(487),A=a(495),P=a(96),H=a.n(P),U=a(485),T=a(38),G=a(132),D=a(35),F={songsList:[],total:0,loading:!0};!function(e){e[e.GetSongList=0]="GetSongList",e[e.GetHotSong=1]="GetHotSong"}(n||(n={}));var W=a(234),R=a.n(W),q=a(493),J=R.a.create({baseURL:"/api",withCredentials:!1});J.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),J.interceptors.response.use((function(e){return 200===e.status?e.data.data:(q.a.error({message:e.statusText}),Promise.reject(e.data))}),(function(e){return Promise.reject(e)}));var M,z=J,V=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("/search",{params:Object(D.a)({},t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("/song_source/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("/hot_list/netease");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function e(t){var a=this;Object(G.a)(this,e),this.dispatch=void 0,this.getHotSong=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K().then((function(e){a.dispatch({type:n.GetHotSong,payload:{songsList:e.songs,total:e.totalCount||e.songs.length,loading:!1}})}));case 2:case"end":return e.stop()}}),e)}))),this.getSongList=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t).then((function(e){a.dispatch({type:n.GetSongList,payload:{songsList:e.songs,total:e.totalCount||e.songs.length,loading:!1}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.dispatch=t},Y={labelCol:{span:8},wrapperCol:{span:16}},Z=function(e){var t=Object(u.g)(),a=new URLSearchParams(t.location.search),n=Object(T.b)(),r=new Q(n),c=h.a.useForm(),s=Object(i.a)(c,1)[0];s.setFieldsValue({keyword:a.get("keyword")});var l=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.currentTarget.value){e.next=3;break}return U.a.info("please input something ~~"),e.abrupt("return");case 3:t.replace("/list?provider=netease&keyword=".concat(a.currentTarget.value,"&page=1")),r.getSongList({provider:"netease",keyword:a.currentTarget.value,page:1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(h.a,Object.assign({style:e.style},Y,{name:"basic",form:s,initialValues:{remember:!0}}),o.a.createElement(h.a.Item,{label:"",name:"keyword"},o.a.createElement(v.a,{placeholder:"please input something~",onPressEnter:function(e){return l(e)}})))},$=C.a.Header,X=C.a.Content,ee=C.a.Footer;!function(e){e["\u6b4c\u5355"]="songs-list",e["\u6700\u65b0\u97f3\u4e50"]="latest-list"}(M||(M={}));var te,ae=function(e){return o.a.createElement(C.a,{className:H.a.layout},o.a.createElement($,null,o.a.createElement("div",{className:H.a.search},o.a.createElement("div",{className:H.a.avator,onClick:function(){return window.location.href="/"}}),o.a.createElement(Z,{style:{width:"15rem",marginRight:"0.5rem",marginTop:"1rem",marginLeft:"0.5rem"}})),o.a.createElement(L.a,{className:H.a.loginAvatar,icon:o.a.createElement(A.a,null)})),o.a.createElement(X,{className:H.a.content},o.a.createElement("div",{className:"site-layout-content"},e.children)),o.a.createElement(ee,{style:{textAlign:"center"}},"Young Mannix \xa92020 Created by Mannix Lei"))},ne=function(e){var t=e.Component,a=Object(N.a)(e,["Component"]),n=g().authTokens;return o.a.createElement(u.d,null,o.a.createElement(u.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(ae,null,o.a.createElement(t,e)):o.a.createElement(u.a,{to:{pathname:"/login",state:{referer:e.location}}})}})))},re=a(491),oe=a(488),ce=a(494),se=a(496),ie=a(497),le=a(55),ue=a.n(le),me=function(e,t,a){return e>600?[{title:"song-name",dataIndex:"name",key:"name",width:"17rem",render:function(e,t){return o.a.createElement("a",{href:t.link,target:"_blank"},e)}},{title:"singer-name",dataIndex:"artists",key:"artists",className:"".concat(ue.a.hide),render:function(e,t){return t.artists.map((function(e){var a=t.artists.length>5?"geekblue":"green";return o.a.createElement(ce.a,{color:a,key:e.name},o.a.createElement("a",{href:e.link,target:"_blank"},e.name))}))}},{title:"album",dataIndex:"album",key:"album",className:"".concat(ue.a.hide),render:function(e,t){return o.a.createElement(ce.a,{key:t.album.name},o.a.createElement("a",{href:t.album.link,target:"_blank"},t.album.name))}},{title:"copyright",dataIndex:"copyright",key:"copyright",className:"".concat(ue.a.hide),render:function(e){return e?"yes":"no"}},{title:"operation",dataIndex:"operation",key:"operation",align:"center",render:function(e,n){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"20px"}},o.a.createElement(se.a,{onClick:function(){return t(n.platform,n.originalId)}}),o.a.createElement(ie.a,{onClick:function(){return a(n.platform,n.originalId,n.name)}}))}}]:[{title:"song-name",dataIndex:"name",key:"name",width:"17rem",render:function(e,t){return o.a.createElement("div",null,o.a.createElement("a",{href:t.link,target:"_blank"},e),o.a.createElement("br",null),t.artists.map((function(e){var a=t.artists.length>5?"geekblue":"green";return o.a.createElement(ce.a,{color:a,key:e.name},o.a.createElement("a",{href:e.link,target:"_blank"},e.name))})))}},{title:"operation",dataIndex:"operation",key:"operation",align:"center",render:function(e,n){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"20px"}},o.a.createElement(se.a,{onClick:function(){return t(n.platform,n.originalId)}}),o.a.createElement(ie.a,{onClick:function(){return a(n.platform,n.originalId,n.name)}}))}}]},de=a(135),pe=a.n(de),fe=function(e){var t=new URLSearchParams(e.location.search),a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)(!1),u=Object(i.a)(l,2),m=u[0],f=(u[1],Object(T.b)()),g=new Q(f),h=Object(r.useState)(t.get("provider")||"netease"),b=Object(i.a)(h,2),v=b[0],y=(b[1],Object(r.useState)(t.get("keyword")||"ferrari")),j=Object(i.a)(y,2),O=j[0],w=(j[1],Object(r.useState)(Number(t.get("page"))||1)),k=Object(i.a)(w,2),x=k[0],S=k[1],_=Object(r.useState)(0),I=Object(i.a)(_,2),N=I[0],C=I[1],L=Object(r.useState)(1080),A=Object(i.a)(L,2),P=A[0],H=A[1],G=Object(r.useState)([]),D=Object(i.a)(G,2),F=(D[0],D[1]),W=o.a.createRef(),R=Object(r.useState)(!1),q=Object(i.a)(R,2),J=q[0],M=q[1],z=Object(T.c)((function(e){return e.song})),V=z.songsList,K=z.total,Y=z.loading;Object(r.useEffect)((function(){Z(),$(v,O,x)}),[]);var Z=function(){var e,t=null===(e=document.querySelector("body"))||void 0===e?void 0:e.offsetWidth;H(t)},$=function(e,t,a){g.getSongList({provider:e,keyword:t,page:a})},X=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,B(t,a).then((function(e){s(e.songSource)})).catch((function(){U.a.error("\u83b7\u53d6\u64ad\u653e\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=me(P,X,function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,a).then((function(e){var t=document.createElement("a");t.setAttribute("href",e.songSource),t.setAttribute("target","_blank"),t.setAttribute("download",n),t.click()})).catch((function(){U.a.error("\u83b7\u53d6\u64ad\u653e\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),te=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0),F(V),X(v,V[N].originalId);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(re.a,{active:!0,loading:Y},o.a.createElement(E.a,{type:"link",onClick:function(){return te()}},"\u64ad\u653e\u5168\u90e8"),o.a.createElement(oe.a,{columns:ee,dataSource:V,pagination:{total:K,onChange:function(e){S(e),$(v,O,e)},showSizeChanger:!1}})),o.a.createElement("div",{className:ue.a.player},o.a.createElement(pe.a,{ref:W,className:ue.a.audio,src:c,autoPlay:J,controls:!0,onEnded:function(e){N<V.length-1?(C(N+1),X(v,V[N+1].originalId)):M(!1)},muted:m})))},ge=a(181),he=a.n(ge),be=a(246),ve=a.n(be),ye=a(247),Ee=a.n(ye),je=a(144),Oe=a.n(je),we=function(){return o.a.createElement("div",{className:Oe.a.body},o.a.createElement(b.a,{hoverable:!0,className:Oe.a.card,cover:o.a.createElement("img",{alt:"hotImg",src:ve.a})},o.a.createElement(he.a,{title:o.a.createElement(l.b,{to:"/list"},"songs list"),description:"Popular playlist"})),o.a.createElement(b.a,{hoverable:!0,className:Oe.a.card,cover:o.a.createElement("img",{alt:"listImg",src:Ee.a})},o.a.createElement(he.a,{title:o.a.createElement(l.b,{to:"/hot"},"hot songs"),description:"Popular playlist"})))},ke=function(){return o.a.createElement("div",null,"sign up")},xe=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=(s[1],Object(T.b)()),m=new Q(u),f=Object(r.useState)(1080),g=Object(i.a)(f,2),h=g[0],b=g[1],v=Object(T.c)((function(e){return e.song})),y=v.songsList,j=v.loading;Object(r.useEffect)((function(){O(),m.getHotSong()}),[]);var O=function(){var e,t=null===(e=document.querySelector("body"))||void 0===e?void 0:e.offsetWidth;b(t)},w=me(h,function(){var e=Object(p.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,a);case 2:r=e.sent,n(r.songSource);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,a).then((function(e){var t=document.createElement("a");t.setAttribute("href",e.songSource),t.setAttribute("target","_blank"),t.setAttribute("download",n),t.click()})).catch((function(){U.a.error("\u83b7\u53d6\u64ad\u653e\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());return o.a.createElement("div",null,o.a.createElement(re.a,{active:!0,loading:j},o.a.createElement(oe.a,{columns:w,dataSource:y,pagination:!1})),o.a.createElement("div",{className:ue.a.player},o.a.createElement(pe.a,{src:a,autoPlay:!0,controls:!0,muted:l,children:o.a.createElement(E.a,{type:"link"},"download")})))};!function(e){e[e.UpdateName=0]="UpdateName",e[e.UpdateAddress=1]="UpdateAddress",e[e.DeleteName=2]="DeleteName",e[e.DeleteAddress=3]="DeleteAddress"}(te||(te={}));var Se={name:"",address:""},_e=function e(t){var a=this;Object(G.a)(this,e),this.dispatch=void 0,this.updateName=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:te.UpdateName,payload:{name:t}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateAddress=function(e){return a.dispatch({type:te.UpdateAddress,payload:{address:e}})},this.deleteName=function(){return a.dispatch({type:te.DeleteName,payload:{}})},this.deleteAddress=function(){return a.dispatch({type:te.DeleteAddress,payload:{}})},this.dispatch=t},Ie=function(){var e=Object(T.c)((function(e){return{name:e.name,address:e.address}})),t=e.name,a=e.address,n=Object(T.b)(),r=new _e(n);return o.a.createElement("div",null,"this is test page;",o.a.createElement(v.a,{placeholder:"name",value:t,onChange:function(e){r.updateName(e.target.value)}}),o.a.createElement(v.a,{placeholder:"address",value:a,onChange:function(e){r.updateAddress(e.target.value)}}))},Ne=function(){var e=JSON.parse(localStorage.getItem("tokens")),t=Object(r.useState)(e),a=Object(i.a)(t,2),n=a[0],c=a[1];return o.a.createElement(f.Provider,{value:{authTokens:n,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),c(e)}}},o.a.createElement(l.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/login",component:I}),o.a.createElement(u.b,{exact:!0,path:"/signUp",component:ke}),o.a.createElement(ne,{path:"/",Component:we})),o.a.createElement(ne,{path:"/list",Component:fe}),o.a.createElement(ne,{path:"/hot",Component:xe}),o.a.createElement(ne,{path:"/test",Component:Ie})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=a(72),Le=a(248),Ae=a.n(Le),Pe={song:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.GetSongList:return{songsList:t.payload.songsList,total:t.payload.total,loading:t.payload.loading};case n.GetHotSong:return Object(D.a)(Object(D.a)({},e),{},{songsList:t.payload.songsList,total:t.payload.total,loading:t.payload.loading});default:return e}},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.UpdateName:return Object(D.a)(Object(D.a)({},e),{},{name:t.payload.name||""});case te.UpdateAddress:return Object(D.a)(Object(D.a)({},e),{},{address:t.payload.address||""});case te.DeleteName:return Object(D.a)(Object(D.a)({},e),{},{name:""});case te.DeleteAddress:return Object(D.a)(Object(D.a)({},e),{},{address:""});default:return e}}},He=Object(Ce.c)(Pe),Ue=a(249),Te=Object(Ce.d)(He,Object(Ce.a)(Ue.a,Ae.a));s.a.render(o.a.createElement(T.a,{store:Te},o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports={player:"songs-list_player__1rro3",audio:"songs-list_audio__2I1Ip",hide:"songs-list_hide__2mp_v"}},96:function(e,t,a){e.exports={layout:"Header_layout__LeZNa",avator:"Header_avator__nvnhF",search:"Header_search___htFL",content:"Header_content__3UTcU",loginAvatar:"Header_loginAvatar__WQ4eH"}}},[[259,1,2]]]);
//# sourceMappingURL=main.f8339d96.chunk.js.map